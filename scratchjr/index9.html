<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-X3HG3NKWG8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-X3HG3NKWG8');
  </script>
  <meta charset="utf-8" />
  <title>ScratchJr - web</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta http-equiv="cache-control" content="no-cache" />
  <link rel="icon" type="image/x-icon" href="https://codejr.org/scratchjr/assets/ui/favicon.ico">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="pwa_static/assets/scratchjr-apple-logo.png">
  <link rel="icon" href="data:;base64,=" />
  <style>
    html, body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #f0f0f0;
    }
    
    #container {
      position: relative;
      width: 100%;
      height: 100%;
      max-width: 1100px;
      max-height: 848px;
      background: white;
    }
    
    /* This maintains the aspect ratio */
    @media (min-aspect-ratio: 1100/848) {
      #container {
        width: calc(100vh * (1100/848));
        height: 100%;
      }
    }
    
    @media (max-aspect-ratio: 1100/848) {
      #container {
        width: 100%;
        height: calc(100vw * (848/1100));
      }
    }
    
    .frame, .libframe, .paintframe {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }
  </style>
</head>
<body>
  <div id="container">
    <div class="frame" id="frame"></div>
    <div class="libframe" id="libframe"></div>
    <div class="paintframe" id="paintframe"></div>
  </div>
  
  <script type="text/javascript" src="vendors/snap/snap.svg-min.js"></script>
  <script type="text/javascript" src="index3.js"></script>
 
  <script>
    document.addEventListener('contextmenu', function (e) {
        e.preventDefault();
    });
    window.scratchJrPage = 'editor';
    function inIframe() {
        try {
            return window.self !== window.top;
        } catch (e) {
            return true;
        }
    }
    if (!inIframe()) {
        window.addEventListener("load", () => {
            if ("serviceWorker" in navigator) {
                navigator.serviceWorker.register("sw.js");
            }
        });
    }
    
    // Function to adjust the container size to maintain aspect ratio
    function adjustSize() {
      const container = document.getElementById('container');
      const windowWidth = window.innerWidth;
      const windowHeight = window.innerHeight;
      const targetRatio = 1100 / 848;
      const windowRatio = windowWidth / windowHeight;
      
      if (windowRatio > targetRatio) {
        // Window is wider than our target ratio
        const height = Math.min(windowHeight, 848);
        const width = height * targetRatio;
        container.style.width = `${width}px`;
        container.style.height = `${height}px`;
      } else {
        // Window is taller than our target ratio
        const width = Math.min(windowWidth, 1100);
        const height = width / targetRatio;
        container.style.width = `${width}px`;
        container.style.height = `${height}px`;
      }
    }
    
    // Adjust size initially and whenever the window is resized
    window.addEventListener('load', adjustSize);
    window.addEventListener('resize', adjustSize);
  </script>
  
  <script>
    function openFullScreen(url) {
      var element = document.createElement('div');
      element.style.position = 'fixed';
      element.style.top = '50%';
      element.style.left = '50%';
      element.style.transform = 'translate(-50%, -50%)';
      element.style.width = '100%';
      element.style.height = '100%';
      element.style.maxWidth = '1100px';
      element.style.maxHeight = '848px';
      element.style.aspectRatio = '1100/848';
      element.style.zIndex = 1000;
      element.style.backgroundColor = '#000';
      var object = document.createElement('object');
      object.data = url;
      object.style.width = '100%';
      object.style.height = '100%';
      element.appendChild(object);
      document.body.appendChild(element);
      element.addEventListener('click', function() {
        element.parentNode.removeChild(element);
      });
    }
  </script>
</body>
</html>
